<div class="agenda-container">
        <div class="agenda-header">
            <h3>Agenda Hebdomadaire</h3>
            <div class="today-date">{{ todayDate }}</div>
        </div>
        <div class="agenda-grid">
            <!-- En-tÃªtes des jours -->
            <div class="time-column"></div>
            @for (day of weekDays; track day.name; let i = $index) {
                <div class="day-header" [class.today]="isToday(day.date)">
                    {{ day.name }}<br>
                    {{ day.date.getDate() }}/{{ day.date.getMonth() + 1 }}
                </div>
            }

            <!-- Lignes du temps -->
            @for (hour of hours; track hour) {
                <div class="time-row">
                    <div class="time-slot">{{ hour }}</div>
                    @for (day of weekDays; track day.name) {
                        <div class="day-cell" [class.today]="isToday(day.date)">
                            @for (event of getEventsForDayAndTime(day.name, hour); track event.title) {
                                <div class="event" [style.background]="event.color">
                                    {{ event.title }}<br>
                                    <small>{{ event.time }}</small>
                                </div>
                            }
                        </div>
                    }
                </div>
            }
        </div>
    </div>